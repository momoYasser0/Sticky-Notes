"use strict";(self.webpackChunkNotes=self.webpackChunkNotes||[]).push([[901],{4901:(A,p,r)=>{r.r(p),r.d(p,{LoginComponent:()=>I});var m=r(6814),a=r(95),_=r(3085),n=r(5879),u=r(6628);function d(e,l){1&e&&(n.TgZ(0,"span"),n._uU(1,"Email is required"),n.qZA())}function f(e,l){1&e&&(n.TgZ(0,"span"),n._uU(1,"Please enter valid email"),n.qZA())}function c(e,l){1&e&&(n.TgZ(0,"span"),n._uU(1,"Email is not exist"),n.qZA())}function Z(e,l){if(1&e&&(n.TgZ(0,"p",22),n.YNc(1,d,2,0,"span",19),n.YNc(2,f,2,0,"span",19),n.YNc(3,c,2,0,"span",19),n.qZA()),2&e){const o=n.oxw();let i,t,s;n.xp6(1),n.Q6J("ngIf",null==(i=o.loginForm.get("email"))?null:i.getError("required")),n.xp6(1),n.Q6J("ngIf",null==(t=o.loginForm.get("email"))?null:t.getError("email")),n.xp6(1),n.Q6J("ngIf",null==(s=o.loginForm.get("email"))?null:s.getError("invalidEmail"))}}function T(e,l){1&e&&(n.TgZ(0,"span"),n._uU(1,"Password is required"),n.qZA())}function v(e,l){1&e&&(n.TgZ(0,"span"),n._uU(1," * Must start with capital letter "),n._UZ(2,"br"),n._uU(3," * Contains more than 4 characters "),n._UZ(4,"br"),n.qZA())}function h(e,l){1&e&&(n.TgZ(0,"span"),n._uU(1,"Invalid Password"),n.qZA())}function L(e,l){if(1&e&&(n.TgZ(0,"p",22),n.YNc(1,T,2,0,"span",19),n.YNc(2,v,5,0,"span",19),n.YNc(3,h,2,0,"span",19),n.qZA()),2&e){const o=n.oxw();let i,t,s;n.xp6(1),n.Q6J("ngIf",null==(i=o.loginForm.get("password"))?null:i.getError("required")),n.xp6(1),n.Q6J("ngIf",null==(t=o.loginForm.get("password"))?null:t.getError("pattern")),n.xp6(1),n.Q6J("ngIf",null==(s=o.loginForm.get("password"))?null:s.getError("invalidPass"))}}function x(e,l){1&e&&n._UZ(0,"i",23)}function E(e,l){1&e&&(n.TgZ(0,"span"),n._uU(1,"Sign In"),n.qZA())}let I=(()=>{class e{constructor(o,i){this._AuthService=o,this._Router=i,this.isLoading=!1,this.loginForm=new a.cw({email:new a.NI("",[a.kI.required,a.kI.email]),password:new a.NI("",[a.kI.required,a.kI.pattern(/^[A-Z][\w\s!@#$%^&*()*-+//\.]{3,}$/)])})}handleLogin(o){this.isLoading=!0,o.valid&&this._AuthService.login(o.value).subscribe({next:i=>{this.isLoading=!1,"done"==i.msg&&(sessionStorage.setItem("token",i.token),this._AuthService.decodeToken(),this._Router.navigate(["/home"]))},error:i=>{"invalid password"==i.error.msg?(this.isLoading=!1,o.get("password")?.setErrors({invalidPass:!0})):"email not exist"==i.error.msg&&(this.isLoading=!1,o.get("email")?.setErrors({invalidEmail:!0}))}})}static#n=this.\u0275fac=function(i){return new(i||e)(n.Y36(u.e),n.Y36(_.F0))};static#e=this.\u0275cmp=n.Xpm({type:e,selectors:[["app-login"]],standalone:!0,features:[n.jDz],decls:29,vars:6,consts:[[1,"sign-in","d-flex","align-items-center","vh-100"],[1,"container","boxShadow"],[1,"signin-content","row"],[1,"signin-image","d-flex","justify-content-center","col-md-6"],["src","assets/imgs/signin-image.jpg","alt","sing in image"],[1,"signin-form","col-md-6"],[1,"form-title"],["id","login-form",1,"register-form","mt-4",3,"formGroup","ngSubmit"],[1,"form-group","d-flex","align-items-center","mb-3"],["for","email"],[1,"fa-solid","fa-envelope"],["formControlName","email","type","email","name","email","id","email","placeholder","Your Email"],["class","alert-0 text-danger mb-3 ",4,"ngIf"],["for","password"],[1,"fa-solid","fa-lock"],["formControlName","password","type","password","name","password","id","password","placeholder","Password"],[1,"d-flex","justify-content-center"],[1,"btn","btn-danger",3,"disabled"],["class","fa fa-spinner fa-spin",4,"ngIf"],[4,"ngIf"],[1,"text-center","mt-4"],["routerLink","/register",1,"text-info"],[1,"alert-0","text-danger","mb-3"],[1,"fa","fa-spinner","fa-spin"]],template:function(i,t){if(1&i&&(n.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"figure"),n._UZ(5,"img",4),n.qZA()(),n.TgZ(6,"div",5)(7,"h2",6),n._uU(8,"Sign in"),n.qZA(),n.TgZ(9,"form",7),n.NdJ("ngSubmit",function(){return t.handleLogin(t.loginForm)}),n.TgZ(10,"div",8)(11,"label",9),n._UZ(12,"span",10),n.qZA(),n._UZ(13,"input",11),n.qZA(),n.YNc(14,Z,4,3,"p",12),n.TgZ(15,"div",8)(16,"label",13),n._UZ(17,"span",14),n.qZA(),n._UZ(18,"input",15),n.qZA(),n.YNc(19,L,4,3,"p",12),n.TgZ(20,"div",16)(21,"button",17),n.YNc(22,x,1,0,"i",18),n.YNc(23,E,2,0,"span",19),n.qZA()()(),n.TgZ(24,"div",20)(25,"div"),n._uU(26,"Don't Have an account? "),n.TgZ(27,"a",21),n._uU(28,"Signup"),n.qZA()()()()()()()),2&i){let s,g;n.xp6(9),n.Q6J("formGroup",t.loginForm),n.xp6(5),n.Q6J("ngIf",(null==(s=t.loginForm.get("email"))?null:s.errors)&&(null==(s=t.loginForm.get("email"))?null:s.touched)),n.xp6(5),n.Q6J("ngIf",(null==(g=t.loginForm.get("password"))?null:g.errors)&&(null==(g=t.loginForm.get("password"))?null:g.touched)),n.xp6(2),n.Q6J("disabled",t.loginForm.invalid),n.xp6(1),n.Q6J("ngIf",t.isLoading),n.xp6(1),n.Q6J("ngIf",!t.isLoading)}},dependencies:[m.ez,m.O5,a.UX,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,_.rH]})}return e})()}}]);